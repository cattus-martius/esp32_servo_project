# ESP32 DevKit Pinout Reference

## Сторона VIN (доступна напряму)
**Піни з цієї сторони підключаються безпосередньо до breadboard.**

| Pin | Function | Notes |
|-----|----------|-------|
| VN | INPUT (червоний) | Спеціальний вхід |
| VIN | INPUT 3.6V-18V | Зовнішнє живлення 5-12V |
| GND | Ground | Земля |
| GPIO13 | PWM | **СЕРВО** (зайнятий) |
| GPIO12 | GPIO | HSPI MISO |
| GPIO14 | GPIO | HSPI CLK |
| GPIO27 | GPIO | ADC2_CH7 |
| GPIO26 | GPIO | ADC2_CH9, DAC2 |
| GPIO25 | GPIO | ADC2_CH8, DAC1 |
| GPIO33 | GPIO | ADC1_CH5, **ПУЛЬС-КНОПКА** |
| GPIO32 | GPIO | ADC1_CH4 |
| GPIO35 | Input-only | ADC1_CH7, **ПУЛЬС-КНОПКА** |
| GPIO34 | Input-only | ADC1_CH6, **SW ДЖОЙСТИКА** |
| GPIO39 (VN) | Input-only | ADC1_CH3, **VRY ДЖОЙСТИКА** |
| GPIO36 (VP) | Input-only | ADC1_CH0, **VRX ДЖОЙСТИКА** |
| EN | Reset | Кнопка Reset |

## Сторона 3V (недоступна, виводиться джамперами)
**Піни з цієї сторони виводяться довгими джамперами на лінійки breadboard.**
**Контролер встановлений розʼємом вглиб (для захисту), тому нумерація йде знизу вгору.**

### Повний маппінг пінів Сторони 3V

| № | Pin | Function | Breadboard Line | Notes |
|---|-----|----------|-----------------|-------|
| 1 | GPIO23 | SPI MOSI | 30 (Сторона VIN) | **Кілька пристроїв SPI** |
| 2 | GPIO22 | I2C SCL | 29 (Сторона VIN) | **До 127 пристроїв I2C** |
| 3 | GPIO1 (TX0) | UART | 30 | UO-TXD |
| 4 | GPIO3 (RX0) | UART | 29 | UO-RXD |
| 5 | GPIO21 | I2C SDA | 28 | **До 127 пристроїв I2C** |
| 6 | GPIO19 | SPI MISO | 27 | **Кілька пристроїв SPI** |
| 7 | GPIO18 | SPI SCK | 26 | **Кілька пристроїв SPI** |
| 8 | GPIO5 | GPIO/SPI CS | 25 | V SPI-CSO |
| 9 | GPIO17 | UART2 TX | 24 | U2-TXO |
| 10 | GPIO16 | UART2 RX | 23 | U2-RXO |
| 11 | GPIO4 | GPIO | 22 | ADC2_CH0 |
| 12 | GPIO2 | GPIO | 21 | Вбудований LED |
| 13 | GPIO15 | GPIO/SPI CS | 20 | HSPI CS |
| 14 | GND | Ground | Шина живлення | Земля |
| 15 | 3.3V | Power | Шина живлення | **ДЛЯ ДЖОЙСТИКА!** |

### Швидкий довідник: Лінійка → Пін

**ОСНОВНІ ПІНИ (лінійки 20-30):**
```
Лінійка 20 → GPIO15 (пін 13) - HSPI CS
Лінійка 21 → GPIO2 (пін 12) - LED
Лінійка 22 → GPIO4 (пін 11)
Лінійка 23 → GPIO16 (пін 10) - UART2 RX
Лінійка 24 → GPIO17 (пін 9) - UART2 TX
Лінійка 25 → GPIO5 (пін 8) - SPI CS
Лінійка 26 → GPIO18 (пін 7) - SPI SCK
Лінійка 27 → GPIO19 (пін 6) - SPI MISO
Лінійка 28 → GPIO21 (пін 5) - I2C SDA
Лінійка 29 → GPIO3/RX0 (пін 4)
Лінійка 30 → GPIO1/TX0 (пін 3)
```

**ШИННІ ПІНИ (на бік Сторони VIN):**
```
Лінійка 29 (Сторона VIN) → GPIO22 (пін 2) - I2C SCL ✅
Лінійка 30 (Сторона VIN) → GPIO23 (пін 1) - SPI MOSI ✅
```

## Поточна конфігурація проекту

### Джойстик KY-023
- VCC → 3.3V (з Сторони 3V через шину)
- GND → GND (шина)
- VRx → GPIO36 (VP) - Сторона VIN
- VRy → GPIO39 (VN) - Сторона VIN
- SW → GPIO34 - Сторона VIN

### Пульс-кнопка
- Contact 1 → GPIO35 - Сторона VIN
- Contact 2 → GPIO33 - Сторона VIN

### Серво 9g
- Signal → GPIO13 - Сторона VIN
- VCC → 5V (зовнішній адаптер)
- GND → GND

## Важливі примітки

⚠️ **КРИТИЧНО:** Джойстик ОБОВ'ЯЗКОВО на 3.3V! 5V пошкодить ADC піни!

✅ **ADC1 vs ADC2:** Використовуємо тільки ADC1 піни (GPIO32-39) для аналогових входів, бо ADC2 конфліктує з WiFi.

✅ **Input-only піни:** GPIO34, GPIO35, GPIO36, GPIO39 - можуть тільки читати, не можуть бути output. Ідеальні для кнопок і аналогових входів.

## Можливість підключення кількох пристроїв

### Сторона VIN (доступна)

| Pin | Кілька пристроїв? | Протокол | Примітки |
|-----|-------------------|----------|----------|
| GPIO13 | ❌ Ні | GPIO | Один пристрій (серво) |
| GPIO12 | ❌ Ні | GPIO/HSPI | Один пристрій |
| GPIO14 | ❌ Ні | GPIO/HSPI | Один пристрій |
| GPIO27 | ❌ Ні | GPIO | Один пристрій |
| GPIO26 | ❌ Ні | GPIO | Один пристрій |
| GPIO25 | ❌ Ні | GPIO | Один пристрій |
| GPIO33 | ❌ Ні | GPIO | Один пристрій (кнопка) |
| GPIO32 | ❌ Ні | GPIO | Один пристрій |
| GPIO35 | ❌ Ні | GPIO | Один пристрій (кнопка) |
| GPIO34 | ❌ Ні | GPIO | Один пристрій (SW джойстика) |
| GPIO39 | ❌ Ні | GPIO | Один пристрій (VRy джойстика) |
| GPIO36 | ❌ Ні | GPIO | Один пристрій (VRx джойстика) |

### Сторона 3V (виводиться джамперами)

| Pin | Кілька пристроїв? | Протокол | Примітки |
|-----|-------------------|----------|----------|
| GPIO15 | ❌ Ні | GPIO/HSPI CS | Один пристрій (або CS для SPI) |
| GPIO2 | ❌ Ні | GPIO | Один пристрій (вбудований LED) |
| GPIO4 | ❌ Ні | GPIO | Один пристрій |
| GPIO16 | ❌ Ні | UART2 RX | Один пристрій на UART2 |
| GPIO17 | ❌ Ні | UART2 TX | Один пристрій на UART2 |
| GPIO5 | ❌ Ні | GPIO/SPI CS | Один пристрій (або CS для SPI) |
| GPIO18 | ✅ **Так** | **SPI SCK** | **Кілька пристроїв (спільна шина)** |
| GPIO19 | ✅ **Так** | **SPI MISO** | **Кілька пристроїв (спільна шина)** |
| GPIO21 | ✅ **Так** | **I2C SDA** | **До 127 пристроїв!** (лінійка 28) |
| GPIO3 | ❌ Ні | UART0 RX | Один пристрій на UART0 (лінійка 29) |
| GPIO1 | ❌ Ні | UART0 TX | Один пристрій на UART0 (лінійка 30) |
| GPIO22 | ✅ **Так** | **I2C SCL** | **До 127 пристроїв!** (лінійка 29, Сторона VIN) |
| GPIO23 | ✅ **Так** | **SPI MOSI** | **Кілька пристроїв** (лінійка 30, Сторона VIN) |

### Шинні протоколи для кількох пристроїв

**I2C (найпростіший):**
- **GPIO21 (SDA)** + **GPIO22 (SCL)**
- До 127 пристроїв на 2 пінах
- Приклади: OLED, BME280, RTC, акселерометри

**SPI (швидший):**
- **GPIO18 (SCK)** + **GPIO19 (MISO)** + **GPIO23 (MOSI)** - спільні
- **GPIO5, GPIO15, тощо (CS)** - окремий для кожного пристрою
- Приклади: SD карти, TFT дисплеї, NRF24L01

**UART (послідовний):**
- **GPIO1/GPIO3 (UART0)** - один пристрій
- **GPIO16/GPIO17 (UART2)** - один пристрій
- Приклади: GPS модулі, Bluetooth HC-05

---
*Документація створена: 2026-02-20*
